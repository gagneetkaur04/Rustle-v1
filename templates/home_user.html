{% extends "layout.html" %}


{% block main %}

    <div class="lt-songs-container ">
        <h1 class="text-light lt-songs-head">Latest Songs</h1>
        <ul class="song-list lt-songs">
            {% for song in latest_songs %}
                {% if not song.User.is_blacklisted and not song.Song.is_flagged %}
                    <div class="one-song">
                        <li class="song-contents">
                            <h3 class="song-title">{{ song.Song.song_title }}</h3>

                            <a href="{{ url_for('play_song', song_id=song.Song.id )}}">
                                <button class="playsong">
                                    <i class=" fas fa-solid fa-play" style="color: rgba(150, 182, 178, 0.777);"></i>
                                </button>
                            </a>
                            
                        </li>
                        <p class="song-artist">Artist : {{ song.User.username }}</p> 
                        <p class="song-artist">Album : {{ song.Album.album_name }}</p>
                        <p>(Released on {{ song.Song.date_created.strftime('%b %d, %Y') }})</p>
                    </div>
                {% endif %}
            {% endfor %}
        </ul>

        <h1 class="text-light lt-albums-head">Latest Albums</h1>
        <ul class="song-list lt-songs">
            {% for album in latest_albums %}
                {% if not album.User.is_blacklisted and not album.Album.is_flagged %}
                <a href="{{ url_for('get_album', album_id=album.Album.id )}}">
                    <div class="one-song">
                        <li class="song-contents">
                            <h3 class="song-title">{{ album.Album.album_name }}</h3>    
                        </li>
                        <p class="song-artist">Artist : {{ album.User.username }}</p> 
                        <p>(Released on {{ album.Album.date_created.strftime('%b %d, %Y') }})</p>
                    </div>
                </a>
                {% endif %}
            {% endfor %}
        </ul>

    </div>
        
{% endblock %}