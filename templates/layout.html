<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap  -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

  <!-- MAIN CSS  -->
  <link rel="stylesheet" href="/static/css/style.css">

  <!-- STYLESHEET FOR ICONS  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">


  <!-- Title of the page  -->
  <title>Rustle</title>

</head>

<body>

  {% if current_user.is_authenticated %}

    <div class="container h-100">
      <div class="row h-100">

        <!-- ...................................................SIDEBAR LAYOUT............................................................. -->
        
        <div class="col-md-2 p-0 position-fixed top-0 bottom-0 z-1">
          <nav id="sidebar" class="w-100 ">
            <div class="sidebar-header">
              <img src="/static/images/app-logo.jpg" class="logo-img" alt="">
              <h3 class="logo-text d-inline-block mt-3">Rustle</h3>
            </div>
          
            <ul class="list-unstyled components">
              <li class="active">
                <a href="#discover"><i class="fas fa-headphones"></i> Discover</a>
              </li>
              <li>
                <a href="#genres"><i class="fas fa-music"></i> Genres</a>
              </li>
              <li>
                <a href="#artists"><i class="fas fa-user-friends"></i> Artists</a>
              </li>
              <li>
                <a href="#playlists"><i class="fas fa-list"></i> Playlists</a>
              </li>
              <li>
                <a href="#favorites"><i class="fas fa-heart"></i> Favorites</a>
              </li>
            </ul>
          </nav>
        </div>
        <div class="col-md-2">
        </div>



        <!-- ...............................................................HEADEER LAYOUT.........................................................  -->


        
        
        
        <!-- ...............................................................MAIN CONTENT LAYOUT.........................................................  -->
        
        <div class="col-md-10 p-0 main-content">
          <header class="py-3 mb-3 position-fixed">
            <div class="container-fluid">
              <div class="d-flex">
                <div class="flex-grow-1 ">
                  <form class="w-50 mx-auto" role="search">
                    <input type="search" class="form-control" placeholder="Search" aria-label="Search">
                  </form>
                </div>
                <div class="flex-shrink-0 dropdown">
                  <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="https://github.com/mdo.png" alt="mdo" width="40" height="40" class="rounded-circle">
                  </a>
                  <ul class="dropdown-menu text-small shadow">
                    <li><a class="dropdown-item" href="{{ url_for('home_user')  }}">Home</a></li>
                    <li><a class="dropdown-item" href="{{ url_for('user_profile')  }}">My User Profile</a></li>
  
  
                    {% if not current_user.is_creator %}
                    <li><a class="dropdown-item" href="{{ url_for('become_artist')  }}">Become Artist</a></li>
                    {% else %}
                    <li><a class="dropdown-item" href="{{ url_for('creator_profile')  }}">My Artist Profile</a></li>
                    {% endif %}
  
                    <li>
                      <hr class="dropdown-divider">
                    </li>
                    <li><a class="dropdown-item" href="{{ url_for('logout') }}">Sign out</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </header>

          {% with messages = get_flashed_messages(with_categories = true) %}
            {% if messages %}
              {% for category,message in messages %}
                <div class="alert alert-{{ category }}">
                  {{ message }}
                </div>
              {% endfor %}
            {% endif %}
          {% endwith %}

          {% block main %}
          {% endblock %}

        </div>

      </div>
    </div>

  {% else %}

    <!-- ...............................................................WELCOME PAGE LAYOUT.........................................................  -->

    <div class="welcome-page">
        <!-- FLASH MESSAGES -->
        {% with messages = get_flashed_messages(with_categories = true) %}
        {% if messages %}
          {% for category,message in messages %}
            <div class="alert alert-{{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      
      {% block content %}
      {% endblock %}
    </div>

  {% endif %}

  
  <!-- Popper JS -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>

  <!-- Javascript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
    crossorigin="anonymous"></script>
</body>

</html>